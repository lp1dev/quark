<!DOCTYPE html>
<html>
    <head>
      <title>Test Index.html file</title>
      <link rel="stylesheet" href="style.css"/>
    </head>
<body>
<div id="test">
    <h1 id="heading" style="color: #ff0000;">My First Heading</h1>
</div>

<div style="background-color: #00009955;">
    <p style="color: #ffffff;">My first paragraph.</p>
</div>

<div id="footer" style="background-color: #ff0000;color: #0000ff;">
  <div>Test Text</div>
  <div>Test2 Test2</div>
</div>

<script>

// In the C code, we have
// enum update_types {
//     RECT,
//     SURFACE,
//     RENDER_PROPERTIES,
//     STYLE,
//     EL,
//     INTERNAL_ID,
//     STYLE_SIZE,
//     TAG,
//     ID,
//     INNER_TEXT
// };
  document = {}
  // Custom JS code for internals
  document.getElementById = function(id) {
  
    element = quark.c_getElementById(id)
    output = {}
    console.log('C element is', element)
    Object.defineProperty(output, "_id", {
      enumerable: false,
      value: element.id,
      writable: true
    })
    Object.defineProperty(output, "_internalId", {
      enumerable: false,
      value: element.internalId,
      writable: false
    })
    Object.defineProperty(output, "_innerText", {
      enumerable: false,
      value: element.innerText,
      writable: true
    })
  

    Object.defineProperty(output, "id", {
      get: function() {
        return this._id
      },
      set: function(id) {
        this._id = id;
        quark.c_updateElement(this._internalId, 8, id)
      }
    })
    Object.defineProperty(output, "innerText", {
      get: function() {
        return this._innerText
      },
      set: function(innerText) {
        this._innerText = innerText;
        quark.c_updateElement(this._internalId, 9, innerText)
      }
    })

    return output
  }
  // end of custom JS code for internals

  console.log("Hello from html!", 123);
  var i = 0;
  i += 1
  i += 1
  var el = document.getElementById('test');
  console.log("element ID is", el.id);
  el.id = "newID"
  console.log("element ID is", el.id);
  console.log("I is "+i);

  document.getElementById('heading').innerText = "New InnerText Updated from JS"
</script>

</body>
</html>

