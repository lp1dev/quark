#include "../../tinypy/tp.c"

tp_vm *tp = NULL;

void python_init() {
    char *files[2];
    files[0] = "quark";
    files[1] = "exploits/init.py";
    tp = tp_init(3, files);
    tp_call(tp,"py2bc", "tinypy", tp_None);
    // tp_deinit(tp);
}

void python_eval(char *str) {
    if (tp != NULL) {
        tp_eval(tp, str, tp_None);
    } else {
        printf("Error : python_init must be called before python_eval.");
    }
}

void python_call(char *module, char *function) {
    if (tp == NULL) {
        printf("Error : python_init must be called before python_call.");
        return;
    }
    tp_call(tp, module, function, tp_None);
}